(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["foodList"],{"0a32":function(e,t,a){},5810:function(e,t,a){"use strict";var o=a("0a32"),n=a.n(o);n.a},"8c33":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"food-list-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.foodData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"食品名称"}},[a("span",[e._v(e._s(t.row.name))])]),a("el-form-item",{attrs:{label:"餐馆名称"}},[a("span",[e._v(e._s(t.row.name))])]),a("el-form-item",{attrs:{label:"食品ID"}},[a("span",[e._v(e._s(t.row.id))])]),a("el-form-item",{attrs:{label:"食品介绍"}},[a("span",[e._v(e._s(t.row.introduce))])]),a("el-form-item",{attrs:{label:"食品评分"}},[a("span",[e._v(e._s(t.row.score))])]),a("el-form-item",{attrs:{label:"食品分类"}},[a("span",[e._v(e._s(t.row.category))])]),a("el-form-item",{attrs:{label:"月销量"}},[a("span",[e._v(e._s(t.row.mon_sale))])])],1)]}}])}),a("el-table-column",{attrs:{label:"食品名称",prop:"name"}}),a("el-table-column",{attrs:{label:"食品介绍",prop:"introduce"}}),a("el-table-column",{attrs:{label:"评分",prop:"score"}}),a("el-table-column",{attrs:{label:"操作",prop:"desc"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{staticClass:"absoulute",attrs:{background:"",layout:"prev, pager, next",total:e.totalPage,"page-size":e.pageSize},on:{"current-change":e.changPage}})],1)},n=[],s={data:function(){return{foodData:[],page:1,pageSize:20,totalPage:0}},mounted:function(){this._findFoodByPage()},methods:{changPage:function(e){this.page=e,this._findFoodByPage()},_findFoodByPage:function(){var e=this,t={page:this.page,pageSize:this.pageSize};this.Service.findFoodByPage(t).then((function(t){200===t.status?(e.foodData=t.data.rows,e.totalPage=t.data.count):e.$message.error(t.message)}))},handleEdit:function(e,t){this.$router.push({path:"../layout/addFood.html",query:{pid:t.shop_id,foodId:t.id,isEdit:"1"}})},handleDelete:function(e,t){var a=this,o={foodId:t.id};this.Service.deleteFood(o).then((function(e){200===e.status?(a.$message.success("删除食品成功"),a.page=1,a._findFoodByPage()):a.$message.error(e.message)}))}}},l=s,i=(a("5810"),a("5511")),r=Object(i["a"])(l,o,n,!1,null,null,null);t["default"]=r.exports}}]);